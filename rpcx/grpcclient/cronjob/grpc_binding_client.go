// GENERATED BY THE COMMAND ABOVE; DO NOT EDIT
// This file was generated by grpc_generate_tools(grpcgengo) at
//

package cronjob

import (
	"context"
	"log"

	"github.com/go-kit/kit/endpoint"
	"gitlab.flyele.vip/server-side/go-zero/v2/rpcx/grpcbase"
	"google.golang.org/grpc"
)

func init() {
	grpcbase.RegisterClients(grpcbase.ServerAddr(grpcbase.CronJobSVC), &clientBinding{})
}

type clientBinding struct {
	createCronJob endpoint.Endpoint
	deleteCronJob endpoint.Endpoint
	getCronJob    endpoint.Endpoint
}

func (c *clientBinding) CreateCronJob(ctx context.Context, params CreateCronJobRequest) grpcbase.Response {
	if ctx == nil {
		ctx = context.Background()
		log.Println("GRPC：CreateCronJob request context is nil，trace span将无法生效")
	}
	response, err := c.createCronJob(ctx, params)
	if err != nil {
		return grpcbase.Response{
			Message: err.Error(),
		}
	}
	r := response.(grpcbase.Response)
	return r
}
func (c *clientBinding) DeleteCronJob(ctx context.Context, params DeleteCronJobRequest) grpcbase.Response {
	if ctx == nil {
		ctx = context.Background()
		log.Println("GRPC：DeleteCronJob request context is nil，trace span将无法生效")
	}
	response, err := c.deleteCronJob(ctx, params)
	if err != nil {
		return grpcbase.Response{
			Message: err.Error(),
		}
	}
	r := response.(grpcbase.Response)
	return r
}
func (c *clientBinding) GetCronJob(ctx context.Context, params GetCronJobRequest) grpcbase.Response {
	if ctx == nil {
		ctx = context.Background()
		log.Println("GRPC：GetCronJob request context is nil，trace span将无法生效")
	}
	response, err := c.getCronJob(ctx, params)
	if err != nil {
		return grpcbase.Response{
			Message: err.Error(),
		}
	}
	r := response.(grpcbase.Response)
	return r
}

func (c *clientBinding) GRPCClient(cc *grpc.ClientConn) interface{} {
	c.newClient(cc)
	return c
}

func (c *clientBinding) newClient(cc *grpc.ClientConn) {

	c.createCronJob = grpcbase.CreateGRPCClientEndpoint(cc, "pb.CronJob",
		"CreateCronJob",
		encodeCreateCronJobRequest,
		decodeCreateCronJobResponse)
	c.deleteCronJob = grpcbase.CreateGRPCClientEndpoint(cc, "pb.CronJob",
		"DeleteCronJob",
		encodeDeleteCronJobRequest,
		decodeDeleteCronJobResponse)
	c.getCronJob = grpcbase.CreateGRPCClientEndpoint(cc, "pb.CronJob",
		"GetCronJob",
		encodeGetCronJobRequest,
		decodeGetCronJobResponse)
}
